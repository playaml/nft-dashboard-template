<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Drag and Drop Interaction Ideas | Sidebar</title>
		<meta name="description" content="Inspiration for drag and drop interactions for the modern UI" />
		<meta name="keywords" content="drag and drop, interaction, inspiration, web design, ui" />
		<meta name="author" content="Codrops" />
		<link rel="shortcut icon" href="../favicon.ico">
		<link rel="stylesheet" type="text/css" href="css/normalize.css" />
		<link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.2.0/css/font-awesome.min.css" />
		<link rel="stylesheet" type="text/css" href="css/demo.css" />
		<link rel="stylesheet" type="text/css" href="css/sidebar.css" />
		<script src="js/modernizr.custom.js"></script>
		<script src="js/ethers-5.2.umd.min.js"></script>
	<script type="module">
	    const provider = new ethers.providers.Web3Provider(window.ethereum, "any");
	    provider.on("network", (newNetwork, oldNetwork) => {
	    // When a Provider makes its initial connection, it emits a "network"
	    // event with a null oldNetwork along with the newNetwork. So, if the
	    // oldNetwork exists, it represents a changing network
	      console.log("New Network name=", newNetwork.name);
	      console.log("New Network chain id=", newNetwork.chainId);
	      
              
	      if (newNetwork.chainId != 137) {
		//alert(newNetwork.chainId);
		parent.postMessage("expose","*");
		document.getElementById("modal_msg").innerText = "At this time we only support the Polygon mainnet";
		document.getElementById("modal_title").innerText = "Network Change";
		document.getElementById("logo").src = "ethereum-eth-logo.svg";
                showModal();
		//alert("At this time we only support the Oasis testnet (Emerald)");
	      } else
		parent.postMessage({ event: "network", id: newNetwork.chainId}, "*");
              
	      if (newNetwork.chainId == 42261)
		document.getElementById("network").innerText = " Connected to Emerald (testnet)";
	      if (newNetwork.chainId == 1) 
		document.getElementById("network").innerText = " Connected to Ethereum (Mainnet)";
	      if (newNetwork.chainId == 3) 
		document.getElementById("network").innerText = " Connected to Ethereum (Ropsten)";
	      if (newNetwork.chainId == 137) 
		document.getElementById("network").innerText = " Connected to Polygon (mainnet)";

	      if (oldNetwork) {
		window.location.reload();
	      }
	    });
	</script>

	</head>
	<body class="skin-1">
		<div class="overlay modal-close"></div>
		<div class="modal-container">
		  <div class="modal-close">X</div>
		  <div id="modal_title" class="modal-title" style="color: #000;">Play A Game</div>
		  <div id="modal_msg" class="modal-body" style="color: #000;">
		    Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quis nostrum, impedit neque cum quam voluptatibus eligendi aliquid eos, excepturi ad doloribus animi quas? Nihil, soluta in, id pariatur nisi natus.
		    Quas, incidunt, blanditiis. Doloremque, eum, officiis. Eaque excepturi numquam autem id necessitatibus eum, commodi deserunt accusamus nam, velit ea a totam possimus eveniet voluptate cum eligendi tempore quod, voluptatum non?
		  </div>
		</div>
		<div class="container">
			<!-- Top Navigation -->
			<div class="codrops-top clearfix">
				<!--a class="codrops-icon codrops-icon-prev" href="http://tympanus.net/Development/MorphingSearch/"><span>Previous Demo</span></a-->
				<span class="right"><a style="position: relative; right: -130px; top: 3px;"  href="https://w3b.glass"><img id="logo" style="position: absolute; top: 15px; right: 3px;" width="15" height="15" src="oasis.svg"></img><span id="network"> Connected to Ropsten</span></a></span>

			</div>
			<div class="content">
				<!--header class="codrops-header">
					<h1>Drag and Drop Interaction Ideas <span>Inspiration for drag and drop interactions for the modern UI</span></h1>
					<nav class="codrops-demos">
						<a href="index.html">Bottom Area</a>
						<a class="current-demo" href="sidebar.html">Sidebar</a>
						<a href="page-scale.html">Page Scale</a>
						<a href="modal.html">Modal</a>
						<a href="icons.html">Icons</a>
						<a href="bottom-slide.html">Bottom Slide</a>
						<a href="reveal.html">Reveal</a>
					</nav>
				</header->
				<div id="grid" class="grid clearfix">
					<div id="g1" active="date" class="grid__item"></div>
					<div id="g2"  active="date" class="grid__item"><img src="/img/linux-icon-19.png" alt="Monty On The Run" title="Monty On The Run"></div>
					<div class="grid__item"><i class="fa fa-fw fa-file-text-o"></i></div>
					<div class="grid__item"><i class="fa fa-fw fa-file-text-o"></i></div>
					<div class="grid__item"><i class="fa fa-fw fa-file-text-o"></i></div>
					<div class="grid__item"><i class="fa fa-fw fa-file-text-o"></i></div>
					<div class="grid__item"><i class="fa fa-fw fa-file-text-o"></i></div>
					<div class="grid__item"><i class="fa fa-fw fa-file-text-o"></i></div>
					<div class="grid__item"><i class="fa fa-fw fa-file-text-o"></i></div>
					<div class="grid__item"><i class="fa fa-fw fa-file-text-o"></i></div>
					<div class="grid__item"><i class="fa fa-fw fa-file-text-o"></i></div>
					<div class="grid__item"><i class="fa fa-fw fa-file-text-o"></i></div>
				</div>
				<!-- Related demos 
				<section class="related">
					<p>If you enjoyed this demo you might also like:</p>
					<a href="http://tympanus.net/Development/DraggableDualViewSlideshow/">
						<img src="img/related/DualViewSlideshow.png" alt="Dual-View Slideshow Image"/>
						<h3>Draggable Dual-View Slideshow</h3>
					</a>
					<a href="http://tympanus.net/Development/ButtonComponentMorph/">
						<img src="img/related/MorphingButtons.png" alt="Morphing Buttons Image" />
						<h3>Morphing Buttons Concept</h3>
					</a>
				</section> -->
			</div><!-- /content -->
		</div><!-- /container -->
		<div id="drop-area" class="drop-area">
			<div>
				<div class="drop-area__item"><div class="dummy"></div></div>
				<div class="drop-area__item"><div class="dummy"></div></div>
				<div class="drop-area__item"><div class="dummy"></div></div>
				<div class="drop-area__item"><div class="dummy"></div></div>
				<div class="drop-area__item"><div class="dummy"></div></div>
				<div class="drop-area__item"><div class="dummy"></div></div>
				<div class="drop-area__item"><div class="dummy"></div></div>
				<div class="drop-area__item"><div class="dummy"></div></div>
			</div>
		</div>
		<div class="drop-overlay"></div>
		<script src="js/draggabilly.pkgd.min.js"></script>
		<script src="js/dragdrop.js"></script>
		<script>
                        const overlay = document.querySelector(".overlay");
                        const modal = document.querySelector(".modal-container");
                        const modalTrigger = document.querySelectorAll(".modal_trigger");
                        const modalClose = document.querySelectorAll(".modal-close");

                        showModal = () => {
                          modal.style.transform = "scale(1)";
                          overlay.setAttribute("style", "opacity: 1; pointer-events: all;");
                        };

                        hideModal = () => {
                          modal.style.transform = "scale(0)";
                          overlay.setAttribute("style", "opacity: 0; pointer-events: none;");
                          parent.postMessage("default","*");
                        };

                        modalTrigger.forEach((element) => {
                          element.addEventListener("click", showModal);
                        });

                        modalClose.forEach((el) => {
                          el.addEventListener("click", hideModal);
                        });

			(function() {
				var body = document.body,
					dropArea = document.getElementById( 'drop-area' ),
					droppableArr = [], dropAreaTimeout;

				// initialize droppables
				[].slice.call( document.querySelectorAll( '#drop-area .drop-area__item' )).forEach( function( el ) {
					droppableArr.push( new Droppable( el, {
						onDrop : function( instance, draggableEl ) {
							// show checkmark inside the droppabe element
							classie.add( instance.el, 'drop-feedback' );
							clearTimeout( instance.checkmarkTimeout );
							instance.checkmarkTimeout = setTimeout( function() { 
								classie.remove( instance.el, 'drop-feedback' );
							}, 800 );
							// ...
						}
					} ) );
				} );

				// initialize draggable(s)
				[].slice.call(document.querySelectorAll( '#grid .grid__item' )).forEach( function( el ) {
					new Draggable( el, droppableArr, {
						scroll : true,
						scrollable : '#drop-area',
						scrollSpeed : 40,
						scrollSensitivity : 50,
						draggabilly : { containment: document.body },
						onStart : function() {
							// add class 'drag-active' to body
							classie.add( body, 'drag-active' );
							// clear timeout: dropAreaTimeout (toggle drop area)
							clearTimeout( dropAreaTimeout );
							// show dropArea
							classie.add( dropArea, 'show' );
						},
						onEnd : function( wasDropped ) {
							var afterDropFn = function() {
								// hide dropArea
								classie.remove( dropArea, 'show' );
								// remove class 'drag-active' from body
								classie.remove( body, 'drag-active' );
							};

							if( !wasDropped ) {
								afterDropFn();
							}
							else {
								// after some time hide drop area and remove class 'drag-active' from body
								clearTimeout( dropAreaTimeout );
								dropAreaTimeout = setTimeout( afterDropFn, 400 );
							}
						}
					} );
				} );
			})();
		</script>
	</body>
</html>
